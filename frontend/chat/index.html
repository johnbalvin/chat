<!DOCTYPE html>
<html lang="es">
<head>
  <script defer src="../stadistic.js"></script>
  <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-142999735-1" onerror="startChingon('y');" onload="startChingon('n');"></script>
  <script defer>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('set', {'user_id':'{{.User.ID}}'});gtag('config', 'UA-142999735-1');</script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
  <title>Chat</title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300|Roboto" rel="stylesheet">
  <link rel="stylesheet" href="../style.css">
  <link rel="stylesheet" href="../snackbar/me.css">
  <link rel="stylesheet" href="../style_up.css">
  <link rel="stylesheet" href="../style_foto.css">
  <link rel="stylesheet" href="style_acces.css">
  <link rel="stylesheet" href="style_button.css">
  <link rel="stylesheet" href="style_chat.css">
  <script defer src="../snackbar/me.js"></script>
  <script defer src="../scripts_foto.js"></script>
  <script defer src="scripts_chat.js"></script>
</head>
<body data-myid="{{.User.ID}}">
  <section id="up">
    <a href="https://github.com/johnbalvin/chat" class="bRadius50 tooltip tooltiptextDown hover">
      <svg width="32" height="32" viewBox="0 0 32 32">
         <path d="M16 0.395c-8.836 0-16 7.163-16 16 0 7.069 4.585 13.067 10.942 15.182 0.8 0.148 1.094-0.347 1.094-0.77 0-0.381-0.015-1.642-0.022-2.979-4.452 0.968-5.391-1.888-5.391-1.888-0.728-1.849-1.776-2.341-1.776-2.341-1.452-0.993 0.11-0.973 0.11-0.973 1.606 0.113 2.452 1.649 2.452 1.649 1.427 2.446 3.743 1.739 4.656 1.33 0.143-1.034 0.558-1.74 1.016-2.14-3.554-0.404-7.29-1.777-7.29-7.907 0-1.747 0.625-3.174 1.649-4.295-0.166-0.403-0.714-2.030 0.155-4.234 0 0 1.344-0.43 4.401 1.64 1.276-0.355 2.645-0.532 4.005-0.539 1.359 0.006 2.729 0.184 4.008 0.539 3.054-2.070 4.395-1.64 4.395-1.64 0.871 2.204 0.323 3.831 0.157 4.234 1.026 1.12 1.647 2.548 1.647 4.295 0 6.145-3.743 7.498-7.306 7.895 0.574 0.497 1.085 1.47 1.085 2.963 0 2.141-0.019 3.864-0.019 4.391 0 0.426 0.288 0.925 1.099 0.768 6.354-2.118 10.933-8.113 10.933-15.18 0-8.837-7.164-16-16-16z"></path>
      </svg>
      <span class="tooltiptext">Code</span>
    </a>
    <section id="perfilWrapper">
      <button id="fotoMenu1" class="botonWrapper hover bRadius50" data-active="false">
        <img class="scale" width="30" height="30"  src="{{.User.Photo}}">
      </button>
      <span id="nameMenu1">{{.User.Name}}</span>
      <nav id="optionsPerfil">
        <a href="/Settings" class="option noDecoration letra1 hover">
          <svg class="icono" viewBox="0 0 24 24">
            <path clip-rule="evenodd" fill="none" d="M0 0h24v24H0z"/>
            <path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/>
          </svg>
          <span class="letra1">Settings</span>
        </a>
        <a href="/Close" class="option noDecoration letra1 hover">
          <svg class="icono" viewBox="0 0 32 32">
            <path d="M24 20v-4h-10v-4h10v-4l6 6zM22 18v8h-10v6l-12-6v-26h22v10h-2v-8h-16l8 4v18h8v-6z"></path>
          </svg>
          <span class="letra1">Close session</span>
        </a> 
        </nav>
    </section>
    <section id="acces">
      <a href="/Login">Login</a>
      <a href="/Register">Register</a>
    </section>
  </section>
  <div id="chatWrapper">
    <section id="chat">
      <div id="messagesWrapper">
        <div id="messages">
          <div id="waiting">
            <button class="spinning botonBonito">
              <svg class="icono" width="22" height="22" class="spinning" viewBox="0 0 32 32">
                <path d="M13 29c0-1.657 1.343-3 3-3s3 1.343 3 3c0 1.657-1.343 3-3 3s-3-1.343-3-3zM0 16c0-1.657 1.343-3 3-3s3 1.343 3 3c0 1.657-1.343 3-3 3s-3-1.343-3-3zM26 16c0-1.657 1.343-3 3-3s3 1.343 3 3c0 1.657-1.343 3-3 3s-3-1.343-3-3zM3.808 6.808c0-1.657 1.343-3 3-3s3 1.343 3 3c0 1.657-1.343 3-3 3s-3-1.343-3-3zM22.192 25.192c0-1.657 1.343-3 3-3s3 1.343 3 3c0 1.657-1.343 3-3 3s-3-1.343-3-3zM3.808 25.192c0-1.657 1.343-3 3-3s3 1.343 3 3c0 1.657-1.343 3-3 3s-3-1.343-3-3zM22.192 6.808c0-1.657 1.343-3 3-3s3 1.343 3 3c0 1.657-1.343 3-3 3s-3-1.343-3-3z"></path>
              </svg>
            </button>
          </div>
          {{$userID:=.User.ID}}
          {{range .Messages}}
          <div class="message {{if eq .From $userID}}me{{end}}" data-u="{{$userID}}" data-from="{{.From}}">
            <div class="user">
              <img class="userImg" width="50" height="50" src="{{.PhotoUser}}">
              <strong class="userName">{{.UserName}}</strong>
              <span class="userDate" data-when="{{.Created}}"></span>
            </div>
            <p class="userText">{{.Text}}</p>
          </div>
          {{end}}
        </div>
      </div>
      <div id="newMessage">
        <textarea></textarea>
        <button class="bRadius50">
          <svg class="icono" width="22" height="22" viewBox="0 0 32 32">
            <path d="M17 32c-0.072 0-0.144-0.008-0.217-0.024-0.458-0.102-0.783-0.507-0.783-0.976v-15h-15c-0.469 0-0.875-0.326-0.976-0.783s0.129-0.925 0.553-1.123l30-14c0.381-0.178 0.833-0.098 1.13 0.199s0.377 0.749 0.199 1.13l-14 30c-0.167 0.358-0.524 0.577-0.906 0.577zM5.508 14h11.492c0.552 0 1 0.448 1 1v11.492l10.931-23.423-23.423 10.931z"></path>
          </svg>
        </button>
      </div>
    </section>
  </div>
  <template id="tmplMesage">
    <div class="message">
      <div class="user">
        <img class="userImg" width="50" height="50" src="https://seresto.com.au/static/media/images/welcome-cat-mob-img.jpg">
        <strong class="userName">John balvin arias</strong>
        <span class="userDate" data-when="1560664142000000000"></span>
      </div>
      <p class="userText"></p>
      <button class="spinning botonBonito">
        <svg class="icono" width="22" height="22" class="spinning" viewBox="0 0 32 32">
          <path d="M13 29c0-1.657 1.343-3 3-3s3 1.343 3 3c0 1.657-1.343 3-3 3s-3-1.343-3-3zM0 16c0-1.657 1.343-3 3-3s3 1.343 3 3c0 1.657-1.343 3-3 3s-3-1.343-3-3zM26 16c0-1.657 1.343-3 3-3s3 1.343 3 3c0 1.657-1.343 3-3 3s-3-1.343-3-3zM3.808 6.808c0-1.657 1.343-3 3-3s3 1.343 3 3c0 1.657-1.343 3-3 3s-3-1.343-3-3zM22.192 25.192c0-1.657 1.343-3 3-3s3 1.343 3 3c0 1.657-1.343 3-3 3s-3-1.343-3-3zM3.808 25.192c0-1.657 1.343-3 3-3s3 1.343 3 3c0 1.657-1.343 3-3 3s-3-1.343-3-3zM22.192 6.808c0-1.657 1.343-3 3-3s3 1.343 3 3c0 1.657-1.343 3-3 3s-3-1.343-3-3z"></path>
        </svg>
      </button>
    </div>
  </template>
</body>
</html>
